# WireFormat

A simple serialization library for Kotlin. Its main purpose is to provide serialization 
for [services](../service/service.md). It is optimized for handling function calls.

WireFormat supports [JSON](https://json.org) and [Protobuf](https://protobuf.dev) out of the box, Protobuf being the
default, JSON is provided for the faint-hearted.

To switch to JSON put this somewhere into your bootstrap:

```kotlin
withJson()
```

## Polymorphism

WireFormat does not support polymorphism (now, I'll have to write it sooner or later).

## Supported Data Types

The table below shows the data types supported by WireFormat serialization.

User defined classes that have the WireFormat supertype will have a companion object
generated by the compiler plugin with WireFormatCompanion supertype and the appropriate
encoding/decoding methods.

| Type                             | Supported                                      |
|----------------------------------|------------------------------------------------|
| **Kotlin Built-in**              |                                                |
| kotlin.Any                       | -                                              |
| T? (a.k.a. `null`)               | yes                                            |
| kotlin.Nothing                   | -                                              |
| kotlin.Unit                      | yes (transported as boolean with `true` value) | 
| kotlin.Boolean                   | yes                                            |
| kotlin.Int                       | yes                                            |
| kotlin.Short                     | yes                                            |
| kotlin.Byte                      | yes                                            |
| kotlin.Long                      | yes                                            |
| kotlin.Float                     | yes                                            |
| kotlin.Double                    | yes                                            |
| kotlin.Char                      | yes                                            |
| kotlin.String                    | yes                                            | 
| kotlin.Enum<T>                   | yes                                            |
| kotlin.Array<T>                  | yes                                            |
| kotlin.BooleanArray              | yes                                            |
| kotlin.IntArray                  | yes                                            |
| kotlin.ShortArray                | yes                                            |
| kotlin.ByteArray                 | yes                                            |
| kotlin.LongArray                 | yes                                            |
| kotlin.DoubleArray               | yes                                            |
| kotlin.FloatArray                | yes                                            |
| kotlin.CharArray                 | yes                                            |
| kotlin.Iterator                  | -                                              |
| kotlin.Throwable                 | -                                              |
| kotlin.Comparable                | -                                              |
| kotlin.Function                  | -                                              |
| **Kotlin Unsigned**              |                                                | 
| UByte                            | yes                                            |
| UInt                             | yes                                            |
| UShort                           | yes                                            |
| ULong                            | yes                                            |
| UByteArray                       | yes                                            | 
| UShortArray                      | yes                                            |
| UIntArray                        | yes                                            |
| ULongArray                       | yes                                            |
| **Kotlin Collections**           |                                                |
| kotlin.collections.Iterable      | -                                              |
| kotlin.collections.Collection    | -                                              |
| kotlin.collections.List          | yes                                            |
| kotlin.collections.MutableList   | yes                                            |
| kotlin.collections.Set           | yes                                            |
| kotlin.collections.MutableSet    | yes                                            |
| kotlin.collections.Map           | yes                                            |
| kotlin.collections.MutableMap    | yes                                            |
| kotlin.collections.ArrayDeque    | -                                              | 
| **Kotlin Time**                  |                                                |
| kotlin.time.Duration             | yes                                            |
| **kotlinx-datetime**             |                                                |
| kotlinx.datetime.Instant         | yes                                            |
| kotlinx.datetime.Clock           | -                                              |
| kotlinx.datetime.LocalDateTime   | yes                                            |
| kotlinx.datetime.LocalDate       | yes                                            |
| kotlinx.datetime.LocalTime       | yes                                            |
| kotlinx.datetime.TimeZone        | -                                              |
| kotlinx.datetime.Month           | yes                                            |
| kotlinx.datetime.DayOfWeek       | yes                                            |
| kotlinx.datetime.DateTimePeriod  | -                                              |
| kotlinx.datetime.DatePeriod      | -                                              |
| kotlinx.datetime.DateTimeUnit    | -                                              |
| kotlinx.datetime.UtcOffset       | -                                              |
| **Z2**                           |                                                |
| hu.simplexion.z2.utility.UUID<T> | yes                                            |
